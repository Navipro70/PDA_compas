# О приложении
ПДА "Компас" - приложение для проведения страйкбольно-ролевых игр "сталкерстрайк". Приложение требует наличия у игроков устройства Android версии 4.4 и выше. Этот репозиторий является доработкой [оригнального репозитория от Afterday Project](https://github.com/PDA-Compass/compas-app), обновлённым под современные версии Android.

## Ссылки
- [Основная группа ВК](https://vk.com/pda.compass)
- [Группа ВК для разработчиков](https://vk.com/pda.compass)
- [Примеры оборудования для игр](https://vk.com/@pda.compass-elektronika-dlya-pda-kompas)
- [Руководство игротехника](https://vk.com/@pda.compass-rukovodstvo-igrotehnika)
- [Рекомендуемая информация к донесению игокам](https://vk.com/@pda.compass-sovety-i-nastavleniya-chestnym-igrokam-c-pda-kompas)
- Основы логики ПДА Компас (4 части):
  - [1 часть: Радиация](https://vk.com/@pda.compass-osnovy-logiki-pda-kompas)
  - [2 часть: Угрозы и их воздействия](https://vk.com/@pda.compass-osnovy-logiki-pda-kompas-chast-2)
  - [3 часть: Выбросы](https://vk.com/@pda.compass-osnovy-logiki-pda-kompas-chast-3)
  - [4 часть: Взаимодействие с инвентарём](https://vk.com/@pda.compass-osnovy-logiki-pda-kompas-chast-4-inventar)

## Основной репозиторий
[https://github.com/PDA-Compass/compas-app](https://github.com/PDA-Compass/compas-app)

## Автор оригинального приложения
Большое спасибо за открытый код автору проекта, [Afterday Project](https://vk.com/afterday.project), человек который создал проект ПДА Компас и поделился им с сообществом.

## Реклама
Приезжайте на [S.T.A.L.K.E.R NVL](https://vk.com/stalker_nvl). У нас печеньки

## Все изменения в [1904 (от Bowleu)](https://github.com/Bowleu/PDA-Compass/) по сравнению с версией [1813 GM](https://github.com/PDA-Compass/compas-app):
- Приложение адаптировано под версии Android 14 и 15.
- Заменены все доступные к замене устаревшие куски кода.
- Добавлены новые звуки включения/выключения ПДА (из Stalker: Anomaly), исправлена ошибка отсутствия звука при включении ПДА.
- Добавлено сообщение о выключении ПДА, изменено сообщение о включении ПДА. Сообщения могут быть использованы для того, чтобы уличить игроков в читерстве.
- Приложение перевёрнуто в более привычный для пользователя вид: кнопки громкости сверху.
- В настройках приложения добавлены **кликабельные** индикаторы для всех необходимых разрешений.
> [!IMPORTANT]
> Советую перед игрой проверять все разрешения и снятие ограничений на сканирование Wi-Fi. Должны стоять все галки.
- Базовый интервал сканирования поднят с 1 сек. до 1.5 сек. по причине избыточности и в целях эконосии энергии телефона.
- Изменён принцип сканирования в соответствии с ограничениями Android на сканирование Wi-Fi:
  - **Android 4.4-8:** раз в 1.5 сек.
  - **Android 9, телефоны Honor, Huawei:** раз в 30 сек., при снятии ограничения - раз в 1.5 сек., **ограничение на таких устройствах можно снять лишь используя ноутбук и ADB, это ограничение устройств**.
  - **Android 10+, кроме Honor, Huawei:** раз в 30 сек., при снятии ограничения - раз в 1.5 сек., **ограничение на таких устройствах можно снять вручную, достаточно разобраться**.
- Индикатор сканирования Bluetooth артефактов стал чуть чувствительнее, однако это зависит от мощности передатчика.
- Добавлено 2 новые аномалии на буквы *"D"* и *"K"*:
  - Аномалия *"D"* - обычная аномалия, красная (наносящая урон) зона которой разделена на "светло-красную" и "тёмно-красную". Светло-красная зона наносит урон как обычная аномалия (35 ед.), тёмно-красная убивает мгновенно.
  - Аномалия *"K"* - аномалия кисель с новыми звуками (из Stalker: Anomaly), наносит 5 ед. урона за 2 сек. Идеально подойдёт для того, чтобы положить в её центр артефакт, который не взять без получения урона.
  - Аномалии засекаются на втором уровне ПДА аналогично обычным.
- Исправлена работа вибрации на современных устройствах.
- Исправлены некоторые визуальные баги на современных устройствах.
- В лог добавлены сообщения о невозможности ПДА сканировать Wi-Fi и возврате такой возможности. Это сообщение может быть использовано для того, чтобы уличить игроков в читерстве.
- Уведомление в строке уведомлений телефона сделано беззвучным (которое позволяет выключить ПДА). На Android 14+ по причине отсутствия возможности сделать уведомление неубираемым, оно будет появляться каждый раз при открытии приложения.
- Компас теперь более плавный (60 fps).
- Исправлен фонарик жестом вверх при сканировании QR-кодов.
- Чуть-чуть оптимизации и вроде-бы исправил утечку памяти (не помню точно).
- Bluetooth mac-адреса теперь лежат по пути `app/src/main/java/net/afterday/compas/sensors/Bluetooth/BluetoothMacAddresses.java`
- Приложение теперь работает в полноэкранном режиме и немного растянуто.
